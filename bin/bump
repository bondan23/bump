#!/usr/bin/env node

var chalk = require('chalk');
var listify = require('listify');
var bump = require('..');

/**
 * bump.
 */

try {
  var info = bump(process.cwd(), process.argv[2]);
} catch (e) {
  fatal(e.message);
}

log('Version bumped to ' + chalk.green(info.version) + ' in ' + chalk.cyan(listify(info.in)) + '.');

/**
 * Error out with a `msg`.
 *
 * @param {String} msg
 */

function fatal(msg){
  console.error();
  console.error('   ' + msg);
  console.error();
  process.exit(1);
}

/**
 * Log a `msg`.
 *
 * @param {String} msg
 */

function log(msg){
  console.log();
  console.log('   ' + msg);
  console.log();
}
